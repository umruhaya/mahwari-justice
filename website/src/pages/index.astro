---
import Layout from '~/layouts/Layout.astro';
import Header from '~/components/Header.tsx';
import Hero from '~/components/Hero.tsx';
import About from '~/components/About.tsx';
import Impact from '~/components/Impact.tsx';
import Projects from '~/components/Projects.tsx';
import Team from '~/components/Team.tsx';
import Donate from '~/components/Donate.tsx';
import Footer from '~/components/Footer.tsx';
import MediaCoverage from '~/components/MediaCoverage.tsx';
import Petition from '~/components/Petition.tsx';
import { getCollection } from 'astro:content';

// SEO data for the homepage
const pageTitle = "Mahwari Justice - Ensuring Access to Safe Periods for All in Pakistan";
const pageDescription = "Mahwari Justice is a grassroots student-led organization providing menstrual health products, education, and advocacy, especially during disasters and emergencies in Pakistan.";
const pageKeywords = "period rights Pakistan, menstrual health Pakistan, period poverty, women's rights Pakistan, humanitarian aid, menstrual hygiene management, disaster relief Pakistan, menstrual equity, period products Pakistan, Diana Award 2024";

// Additional structured data for homepage
const homepageStructuredData = {
	"@context": "https://schema.org",
	"@graph": [
		{
			"@type": "NonprofitOrganization",
			"@id": "https://mahwarijustice.org/#organization",
			"name": "Mahwari Justice",
			"url": "https://mahwarijustice.org",
			"logo": {
				"@type": "ImageObject",
				"url": "https://mahwarijustice.org/mj-logo.png",
				"width": 400,
				"height": 400
			},
			"description": "Grassroots student-led organization providing menstrual health products, education, and advocacy in Pakistan",
			"foundingDate": "2022",
			"mission": "Ensuring access to safe periods, especially during disasters and emergencies",
			"areaServed": {
				"@type": "Country",
				"name": "Pakistan"
			},
			"sameAs": [
				"https://x.com/mahwarijustice",
				"https://www.facebook.com/p/Mahwari-Justice-100084051635594",
				"https://www.instagram.com/mahwarijusticeofficial",
				"https://www.linkedin.com/company/mahwari-justice"
			],
			"award": [
				"Diana Award 2024",
				"Women's Leadership Award 2023",
				"Global Youth Champion Award 2023",
				"50 Leading Lights Asia-Pacific 2023"
			]
		},
		{
			"@type": "WebSite",
			"@id": "https://mahwarijustice.org/#website",
			"url": "https://mahwarijustice.org",
			"name": "Mahwari Justice",
			"description": "Period rights are human rights. Supporting menstrual equity across Pakistan.",
			"publisher": {
				"@id": "https://mahwarijustice.org/#organization"
			},
			"inLanguage": "en-US"
		}
	]
};

const members = await getCollection('member').then(members => members.map(member => member.data))
---

<Layout 
	title={pageTitle}
	description={pageDescription}
	keywords={pageKeywords}
	canonicalUrl="https://mahwarijustice.org"
	structuredData={homepageStructuredData}
>
	<div id="app" class="min-h-screen">
		<!-- Header -->
		<Header client:load />
		
		<!-- Main Content -->
		<main role="main">
			<!-- Hero Section -->
			<Hero client:load />
			
			<!-- Petition Section -->
			<Petition client:load />
			
			<!-- About Section -->
			<About client:load />
			
			<!-- Impact Section -->
			<Impact client:load />
			
			<!-- Projects Section -->
			<Projects client:load />

			<!-- Media Coverage Section -->
			<MediaCoverage client:load />
			
			<!-- Team Section -->
			<Team members={members} client:load />
			
			<!-- Donate Section -->
			<Donate client:load />
		</main>
		
		<!-- Footer -->
		<Footer client:load />
	</div>
</Layout>
